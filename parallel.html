<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Parallel &mdash; BET 0.2.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="BET 0.2.0 documentation" href="index.html" />
    <link rel="next" title="Linear Map Example" href="examples/overview.html" />
    <link rel="prev" title="Overview" href="overview.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="examples/overview.html" title="Linear Map Example"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="overview.html" title="Overview"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">BET 0.2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="parallel">
<span id="id1"></span><h1>Parallel<a class="headerlink" href="#parallel" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Running this code in parallel requires the installation of <a class="reference external" href="http://mpi4py.scipy.org/">MPI for Python</a> which requires that your system has mpi
installed.</p>
</div>
<div class="section" id="running-in-parallel">
<h2>Running in parallel<a class="headerlink" href="#running-in-parallel" title="Permalink to this headline">¶</a></h2>
<p>Depending on what modules, methods, and/or functions from BET your script uses
small or no changes will need to be made to run your script in parallel. To run
your script in parallel you will have to use:</p>
<div class="highlight-python"><div class="highlight"><pre>$ mpirun -np NUM_PROCS python YOUR_SCRIPT.py
</pre></div>
</div>
<p>instead of</p>
<div class="highlight-python"><div class="highlight"><pre>$ python YOUR_SCRIPT.py
</pre></div>
</div>
<p>You might need to make sure your globalize your arrays or make sure to choose
the <code class="docutils literal"><span class="pre">parallel</span></code> flag on some functions to ensure correct execution.</p>
</div>
<div class="section" id="affected-packages">
<h2>Affected Packages<a class="headerlink" href="#affected-packages" title="Permalink to this headline">¶</a></h2>
<p>The modules that have parallel capabilities are as follows:</p>
<div class="highlight-python"><div class="highlight"><pre>bet/
  util
  calculateP/
    calculateP
    simpleFunP
  sampling/
    basicSampling
    adaptiveSampling
  postProcess/
    plotP
    postTools
</pre></div>
</div>
<div class="section" id="util">
<h3>util<a class="headerlink" href="#util" title="Permalink to this headline">¶</a></h3>
<p>The module <a class="reference internal" href="bet.html#module-bet.util" title="bet.util"><code class="xref py py-mod docutils literal"><span class="pre">util</span></code></a> provides the method
<a class="reference internal" href="bet.html#bet.util.get_global_values" title="bet.util.get_global_values"><code class="xref py py-meth docutils literal"><span class="pre">get_global_values()</span></code></a> to globalize local arrays into an array of
global values on all processors.</p>
</div>
<div class="section" id="calculatep">
<h3>calculateP<a class="headerlink" href="#calculatep" title="Permalink to this headline">¶</a></h3>
<p>All methods in the module <a class="reference internal" href="bet.calculateP.html#module-bet.calculateP.calculateP" title="bet.calculateP.calculateP"><code class="xref py py-mod docutils literal"><span class="pre">calculateP</span></code></a> benefit from
parallel execution. Only local arrays are returned for <code class="docutils literal"><span class="pre">P</span></code>, use
<a class="reference internal" href="bet.html#bet.util.get_global_values" title="bet.util.get_global_values"><code class="xref py py-meth docutils literal"><span class="pre">get_global_values()</span></code></a> to globalize local arrays.</p>
<p>In the module <a class="reference internal" href="bet.calculateP.html#module-bet.calculateP.simpleFunP" title="bet.calculateP.simpleFunP"><code class="xref py py-mod docutils literal"><span class="pre">simpleFunP</span></code></a> the methods
<a class="reference internal" href="bet.calculateP.html#bet.calculateP.simpleFunP.unif_unif" title="bet.calculateP.simpleFunP.unif_unif"><code class="xref py py-meth docutils literal"><span class="pre">unif_unif()</span></code></a>,
<a class="reference internal" href="bet.calculateP.html#bet.calculateP.simpleFunP.normal_normal" title="bet.calculateP.simpleFunP.normal_normal"><code class="xref py py-meth docutils literal"><span class="pre">normal_normal()</span></code></a>, and
<a class="reference internal" href="bet.calculateP.html#bet.calculateP.simpleFunP.unif_normal" title="bet.calculateP.simpleFunP.unif_normal"><code class="xref py py-meth docutils literal"><span class="pre">unif_normal()</span></code></a> benefit from parallel
execution.</p>
</div>
<div class="section" id="sampling">
<h3>sampling<a class="headerlink" href="#sampling" title="Permalink to this headline">¶</a></h3>
<p>If you are using a model with parallel capabilities we recommend that you write
your own python interface to handle running multiple parallel copies of your
model simulatenously. If your model is serial then you might benefit from
parallel execution of scripts that use
<a class="reference internal" href="bet.sampling.html#bet.sampling.basicSampling.sampler" title="bet.sampling.basicSampling.sampler"><code class="xref py py-class docutils literal"><span class="pre">bet.sampling.basicSampling.sampler</span></code></a> or
<a class="reference internal" href="bet.sampling.html#bet.sampling.adaptiveSampling.sampler" title="bet.sampling.adaptiveSampling.sampler"><code class="xref py py-class docutils literal"><span class="pre">bet.sampling.adaptiveSampling.sampler</span></code></a>.  The method
<a class="reference internal" href="bet.sampling.html#bet.sampling.basicSampling.sampler.user_samples" title="bet.sampling.basicSampling.sampler.user_samples"><code class="xref py py-meth docutils literal"><span class="pre">user_samples()</span></code></a> has a parallel option
(must be specified in the method call) which will partition the samples over
several processors and return a globalized set of results.  The method
<a class="reference internal" href="bet.sampling.html#bet.sampling.adaptiveSampling.sampler.generalized_chains" title="bet.sampling.adaptiveSampling.sampler.generalized_chains"><code class="xref py py-meth docutils literal"><span class="pre">generalized_chains()</span></code></a> divides up
the chains among the availiable processors and returns a globalized result.</p>
</div>
<div class="section" id="postprocess">
<h3>postProcess<a class="headerlink" href="#postprocess" title="Permalink to this headline">¶</a></h3>
<p>In <a class="reference internal" href="bet.postProcess.html#module-bet.postProcess.plotP" title="bet.postProcess.plotP"><code class="xref py py-mod docutils literal"><span class="pre">plotP</span></code></a> the methods
<a class="reference internal" href="bet.postProcess.html#bet.postProcess.plotP.calculate_1D_marginal_probs" title="bet.postProcess.plotP.calculate_1D_marginal_probs"><code class="xref py py-meth docutils literal"><span class="pre">calculate_1D_marginal_probs()</span></code></a> and
<a class="reference internal" href="bet.postProcess.html#bet.postProcess.plotP.calculate_2D_marginal_probs" title="bet.postProcess.plotP.calculate_2D_marginal_probs"><code class="xref py py-meth docutils literal"><span class="pre">calculate_2D_marginal_probs()</span></code></a> benefit from
parallel execution. The methods <a class="reference internal" href="bet.postProcess.html#bet.postProcess.plotP.plot_1D_marginal_probs" title="bet.postProcess.plotP.plot_1D_marginal_probs"><code class="xref py py-meth docutils literal"><span class="pre">plot_1D_marginal_probs()</span></code></a> and
<a class="reference internal" href="bet.postProcess.html#bet.postProcess.plotP.plot_2D_marginal_probs" title="bet.postProcess.plotP.plot_2D_marginal_probs"><code class="xref py py-meth docutils literal"><span class="pre">plot_2D_marginal_probs()</span></code></a> will only execute on the
rank 0 processor.</p>
<p>In <a class="reference internal" href="bet.postProcess.html#module-bet.postProcess.postTools" title="bet.postProcess.postTools"><code class="xref py py-mod docutils literal"><span class="pre">postTools</span></code></a> the methods
<a class="reference internal" href="bet.postProcess.html#bet.postProcess.postTools.save_parallel_probs_csv" title="bet.postProcess.postTools.save_parallel_probs_csv"><code class="xref py py-meth docutils literal"><span class="pre">save_parallel_probs_csv()</span></code></a>,
<a class="reference internal" href="bet.postProcess.html#bet.postProcess.postTools.collect_parallel_probs_csv" title="bet.postProcess.postTools.collect_parallel_probs_csv"><code class="xref py py-meth docutils literal"><span class="pre">collect_parallel_probs_csv()</span></code></a>,
<a class="reference internal" href="bet.postProcess.html#bet.postProcess.postTools.save_parallel_probs_mat" title="bet.postProcess.postTools.save_parallel_probs_mat"><code class="xref py py-meth docutils literal"><span class="pre">save_parallel_probs_mat()</span></code></a>, and
<a class="reference internal" href="bet.postProcess.html#bet.postProcess.postTools.collect_parallel_probs_mat" title="bet.postProcess.postTools.collect_parallel_probs_mat"><code class="xref py py-meth docutils literal"><span class="pre">collect_parallel_probs_mat()</span></code></a> provide tools to
save and collect probabitlies on separate processors as appropriately named files.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Parallel</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#running-in-parallel">Running in parallel</a></li>
<li><a class="reference internal" href="#affected-packages">Affected Packages</a><ul>
<li><a class="reference internal" href="#util">util</a></li>
<li><a class="reference internal" href="#calculatep">calculateP</a></li>
<li><a class="reference internal" href="#sampling">sampling</a></li>
<li><a class="reference internal" href="#postprocess">postProcess</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="overview.html"
                        title="previous chapter">Overview</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="examples/overview.html"
                        title="next chapter">Linear Map Example</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/parallel.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014, Lindley Graham, Steven Mattis, Troy Butler.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.3</a>
      
      |
      <a href="_sources/parallel.txt"
          rel="nofollow">Page source</a></li>
    </div>

    

    
  </body>
</html>