

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>bet.sensitivity package &mdash; BET 0.2.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="BET 0.2.0 documentation" href="index.html"/>
        <link rel="up" title="bet package" href="bet.html"/>
        <link rel="next" title="Todo List" href="todo_list.html"/>
        <link rel="prev" title="bet.sampling package" href="bet.sampling.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> BET</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#package-layout">Package Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#code-overview">Code Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#internal-dependencies">Internal dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#external-dependencies">External dependencies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="parallel.html">Parallel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="parallel.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel.html#running-in-parallel">Running in parallel</a></li>
<li class="toctree-l2"><a class="reference internal" href="parallel.html#parallel-enabled-modules">Parallel Enabled Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples/overview.html">Linear Map Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/overview.html#non-linear-map-example">Non-Linear Map Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/overview.html#adcirc-based-examples">ADCIRC Based Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples/overview.html#idealized-inlet-physical-domain">Idealized Inlet Physical Domain</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/overview.html#adaptive-sampling-examples">Adaptive Sampling Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/overview.html#visualization-examples">Visualization Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/overview.html#examples-estimating">Examples Estimating <span class="math">\(P_\Lambda\)</span></a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">bet</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="bet.html">bet package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="todo_list.html">Todo List</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">BET</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="modules.html">bet</a> &raquo;</li>
      
          <li><a href="bet.html">bet package</a> &raquo;</li>
      
    <li>bet.sensitivity package</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/bet.sensitivity.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="bet-sensitivity-package">
<h1>bet.sensitivity package<a class="headerlink" href="#bet-sensitivity-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-bet.sensitivity.chooseQoIs">
<span id="bet-sensitivity-chooseqois-module"></span><h2>bet.sensitivity.chooseQoIs module<a class="headerlink" href="#module-bet.sensitivity.chooseQoIs" title="Permalink to this headline">¶</a></h2>
<p>This module contains functions choosing optimal QoIs to use in
the stochastic inverse problem.</p>
<dl class="function">
<dt id="bet.sensitivity.chooseQoIs.chooseOptQoIs">
<code class="descclassname">bet.sensitivity.chooseQoIs.</code><code class="descname">chooseOptQoIs</code><span class="sig-paren">(</span><em>Grad_tensor</em>, <em>indexstart</em>, <em>indexstop</em>, <em>num_qois_returned</em><span class="sig-paren">)</span><a class="headerlink" href="#bet.sensitivity.chooseQoIs.chooseOptQoIs" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>TODO:   This just cares about skewness, not sensitivity  (That is, we pass</dt>
<dd><p class="first">in normalized gradient vectors).  So we want to implement
sensitivity analysis as well later.
Check out &#8216;magical min&#8217;.</p>
<p class="last">If a singular value is zero, we let the condition number be 
1E9 at that point.  Possibly this should be a function of the
dimension(?) so that we don&#8217;t exclude a set simply because
the vectors are parallel at one point in :math:Lambda, they could
be much better in other regions.</p>
</dd>
</dl>
<p>Given gradient vectors at some points(xeval) in the parameter space, a set
of QoIs to choose from, and the number of desired QoIs to return, this
method return the set of optimal QoIs to use in the inverse problem by
choosing the set with optimal skewness properties.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Grad_tensor</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_xeval,num_qois,Ldim)
where num_xeval is the number of points in :math:&#8217;Lambda&#8217; we have
approximated the gradient vectors, num_qois is the total number of
possible QoIs to choose from, Ldim is the dimension of <span class="math">\(\Lambda\)</span>.) &#8211; Gradient vectors at each point of interest in the
parameter space :math:&#8217;Lambda&#8217; for each QoI map.</li>
<li><strong>indexstart</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Index of the list of QoIs to start at.</li>
<li><strong>indexstop</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Index of the list of QoIs to stop at.</li>
<li><strong>num_qois_returned</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of desired QoIs to use in the
inverse problem.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><a class="reference external" href="https://docs.python.org/2.7/library/functions.html#tuple" title="(in Python v2.7)">tuple</a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(min_condum, qoiIndices)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-bet.sensitivity.gradients">
<span id="bet-sensitivity-gradients-module"></span><h2>bet.sensitivity.gradients module<a class="headerlink" href="#module-bet.sensitivity.gradients" title="Permalink to this headline">¶</a></h2>
<p>This module contains functions for approximating gradient vectors
of QoI maps.</p>
<dl class="function">
<dt id="bet.sensitivity.gradients.calculate_gradients_cfd">
<code class="descclassname">bet.sensitivity.gradients.</code><code class="descname">calculate_gradients_cfd</code><span class="sig-paren">(</span><em>samples</em>, <em>data</em>, <em>xeval</em>, <em>r</em><span class="sig-paren">)</span><a class="headerlink" href="#bet.sensitivity.gradients.calculate_gradients_cfd" title="Permalink to this definition">¶</a></dt>
<dd><p>Approximate gradient vectors at <code class="docutils literal"><span class="pre">num_xeval,</span> <span class="pre">xeval.shape[0]</span></code> points
in the parameter space for each QoI map.  THIS METHOD IS DEPENDENT
ON USING pick_cfd_points TO CHOOSE SAMPLES FOR THE CFD STENCIL AROUND
EACH XEVAL.  THE ORDERING MATTERS.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>samples</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_samples, Ldim) where Ldim) &#8211; Samples for which the model has been solved.</td>
</tr>
</tbody>
</table>
<p>is the dimension of the parameter space <span class="math">\(\Lambda\)</span>
:param data: QoI values corresponding to each sample.
:type data: <code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_samples, Ddim) where Ddim is</p>
<blockquote>
<div>the number of QoI (i.e. the dimension of the data space
<span class="math">\(\mathcal{D}\)</span></div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>xeval</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_exval, Ldim)) &#8211; Points in <span class="math">\(\Lambda\)</span> at which to approximate gradient
information.</li>
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Distance from center to place samples</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_samples, Ddim, Ldim)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tensor representation of the normalized gradient vectors of each
QoI map at each point in xeval</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="bet.sensitivity.gradients.calculate_gradients_ffd">
<code class="descclassname">bet.sensitivity.gradients.</code><code class="descname">calculate_gradients_ffd</code><span class="sig-paren">(</span><em>samples</em>, <em>data</em>, <em>xeval</em>, <em>r</em><span class="sig-paren">)</span><a class="headerlink" href="#bet.sensitivity.gradients.calculate_gradients_ffd" title="Permalink to this definition">¶</a></dt>
<dd><p>Approximate gradient vectors at <code class="docutils literal"><span class="pre">num_xeval,</span> <span class="pre">xeval.shape[0]</span></code> points
in the parameter space for each QoI map.
THIS METHOD IS DEPENDENT ON USING pick_ffd_points TO CHOOSE
SAMPLES FOR THE CFD STENCIL AROUND EACH XEVAL.  THE ORDERING MATTERS.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>samples</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_samples, Ldim) where Ldim
is the dimension of the parameter space <span class="math">\(\Lambda\)</span>) &#8211; Samples for which the model has been solved.</li>
<li><strong>data</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_samples, Ddim) where Ddim is
the number of QoI (i.e. the dimension of the data space
<span class="math">\(\mathcal{D}\)</span>) &#8211; QoI values corresponding to each sample.</li>
<li><strong>xeval</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_exval, Ldim)) &#8211; Points in <span class="math">\(\Lambda\)</span> at which to approximate gradient
information.</li>
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Distance from center to place samples</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_samples, Ddim, Ldim)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tensor representation of the normalized gradient vectors of each
QoI map at each point in xeval</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="bet.sensitivity.gradients.calculate_gradients_rbf">
<code class="descclassname">bet.sensitivity.gradients.</code><code class="descname">calculate_gradients_rbf</code><span class="sig-paren">(</span><em>samples</em>, <em>data</em>, <em>xeval</em>, <em>num_neighbors=None</em>, <em>RBF=None</em>, <em>ep=None</em><span class="sig-paren">)</span><a class="headerlink" href="#bet.sensitivity.gradients.calculate_gradients_rbf" title="Permalink to this definition">¶</a></dt>
<dd><p>TO DO: vectorize first for loop?</p>
<p>Approximate gradient vectors at <code class="docutils literal"><span class="pre">num_xeval,</span> <span class="pre">xeval.shape[0]</span></code> points
in the parameter space for each QoI map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>samples</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_samples, Ldim) where Ldim
is the dimension of the parameter space <span class="math">\(\Lambda\)</span>) &#8211; Samples for which the model has been solved.</li>
<li><strong>data</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_samples, Ddim) where Ddim is
the number of QoI (i.e. the dimension of the data space
<span class="math">\(\mathcal{D}\)</span>) &#8211; QoI values corresponding to each sample.</li>
<li><strong>xeval</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_exval, Ldim)) &#8211; Points in <span class="math">\(\Lambda\)</span> at which to approximate gradient
information.</li>
<li><strong>num_neighbors</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of nearest neighbors to use in gradient
approximation. Default value is 30.</li>
<li><strong>RBF</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Choice of radial basis function.
Default is Gaussian</li>
<li><strong>ep</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Choice of shape parameter for radial basis function.
Default value is 1.0</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_samples, Ddim, Ldim)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Tensor representation of the normalized gradient vectors of each
QoI map at each point in xeval</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="bet.sensitivity.gradients.pick_cfd_points">
<code class="descclassname">bet.sensitivity.gradients.</code><code class="descname">pick_cfd_points</code><span class="sig-paren">(</span><em>centers</em>, <em>r</em><span class="sig-paren">)</span><a class="headerlink" href="#bet.sensitivity.gradients.pick_cfd_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Pick 2*Lambda_dim points, for each center, for centered
finite difference gradient approximation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>centers</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_exval, Ldim)) &#8211; Points in <span class="math">\(\Lambda\)</span> to cluster points around</li>
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Each side of the box will have length 2*r</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_close*num_centers, Ldim)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Samples for centered finite difference stencil for
each point in centers.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="bet.sensitivity.gradients.pick_ffd_points">
<code class="descclassname">bet.sensitivity.gradients.</code><code class="descname">pick_ffd_points</code><span class="sig-paren">(</span><em>centers</em>, <em>r</em><span class="sig-paren">)</span><a class="headerlink" href="#bet.sensitivity.gradients.pick_ffd_points" title="Permalink to this definition">¶</a></dt>
<dd><p>Pick Lambda_dim points, for each centers, for a forward finite
difference gradient approximation.  The ordering of these samples
is important.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>centers</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_exval, Ldim)) &#8211; Points in <span class="math">\(\Lambda\)</span> to cluster points around</li>
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Each side of the box will have length 2*r</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_close*num_centers, Ldim)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Samples for centered finite difference stencil for
each point in centers.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="bet.sensitivity.gradients.radial_basis_function">
<code class="descclassname">bet.sensitivity.gradients.</code><code class="descname">radial_basis_function</code><span class="sig-paren">(</span><em>r</em>, <em>kernel=None</em>, <em>ep=None</em><span class="sig-paren">)</span><a class="headerlink" href="#bet.sensitivity.gradients.radial_basis_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate a chosen radial basis function.  Allow for the
choice of several radial basis functions to use in
the calculate_gradients_rbf.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>r</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code>) &#8211; Distances from the reference point</li>
<li><strong>kernel</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Choice of radial basis funtion</li>
<li><strong>ep</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Shape parameter for the radial basis function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (r.shape)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Radial basis function evaluated for each element of r</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="bet.sensitivity.gradients.radial_basis_function_dxi">
<code class="descclassname">bet.sensitivity.gradients.</code><code class="descname">radial_basis_function_dxi</code><span class="sig-paren">(</span><em>r</em>, <em>xi</em>, <em>kernel=None</em>, <em>ep=None</em><span class="sig-paren">)</span><a class="headerlink" href="#bet.sensitivity.gradients.radial_basis_function_dxi" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate a partial derivative of a chosen radial basis function.
Allow for the choice of several radial basis functions to
use in the calculate_gradients_rbf.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>r</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code>) &#8211; Distances from the reference point</li>
<li><strong>xi</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code>) &#8211; Distances from the reference point in dimension i</li>
<li><strong>kernel</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/string.html#module-string" title="(in Python v2.7)"><em>string</em></a>) &#8211; Choice of radial basis funtion</li>
<li><strong>ep</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Shape parameter for the radial basis function</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (r.shape)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Radial basis function evaluated for each element of r</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="bet.sensitivity.gradients.sample_l1_ball">
<code class="descclassname">bet.sensitivity.gradients.</code><code class="descname">sample_l1_ball</code><span class="sig-paren">(</span><em>centers</em>, <em>num_close</em>, <em>r=None</em><span class="sig-paren">)</span><a class="headerlink" href="#bet.sensitivity.gradients.sample_l1_ball" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>TODO: Come up with better variable names. Vectorize the for loops.</dt>
<dd>Split this into two methods, sample_simplex, simlex_to_diamond(?).
Take in &#8216;hard&#8217; and &#8216;soft&#8217; lam_domain boundaries and either
allow for sampes out side lam_domain (soft) or restrict them to
be inside (hard).</dd>
</dl>
<p>Uniformly sample the l1-ball (defined by 2^dim simplices).  Then scale
each dimension according to rvec and translate the center to centers.
Do this for each point in centers.  <strong>* This method currently allows
samples to be placed outside of lam_domain.  Please place your
centers accordingly.*</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>centers</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_centers, Ldim)) &#8211; Points in <span class="math">\(\Lambda\)</span> to cluster samples around</li>
<li><strong>num_close</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of samples in each diamond</li>
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; The radius of the diamond, along each axis</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_samples*num_centers, Ldim)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Uniform random samples from a diamond around each center point</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="bet.sensitivity.gradients.sample_linf_ball">
<code class="descclassname">bet.sensitivity.gradients.</code><code class="descname">sample_linf_ball</code><span class="sig-paren">(</span><em>lam_domain</em>, <em>centers</em>, <em>num_close</em>, <em>r</em><span class="sig-paren">)</span><a class="headerlink" href="#bet.sensitivity.gradients.sample_linf_ball" title="Permalink to this definition">¶</a></dt>
<dd><p>Pick num_close points in a the l-infinity box of length
2*r around a point in <span class="math">\(\Lambda\)</span>, do this for each point
in centers.  If this box extends outside of <span class="math">\(\Lambda\)</span>, we
sample the intersection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_close</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of points in each cluster</li>
<li><strong>centers</strong> (<code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_exval, Ldim)) &#8211; Points in <span class="math">\(\Lambda\)</span> to cluster points around</li>
<li><strong>r</strong> (<a class="reference external" href="https://docs.python.org/2.7/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Each side of the box will have length 2*r</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal"><span class="pre">np.ndarray</span></code> of shape (num_close*num_centers, Ldim)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Clusters of samples near each point in centers</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-bet.sensitivity">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-bet.sensitivity" title="Permalink to this headline">¶</a></h2>
<p>This subpackage provides methods for approximating gradients of
QoI maps and choosing optimal QoIs to use in the inverse problem.</p>
<ul>
<li><dl class="first docutils">
<dt><code class="xref py py-mod docutils literal"><span class="pre">py</span></code> provides methods for approximating</dt>
<dd><p class="first last">gradients of QoI maps.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference internal" href="#module-bet.sensitivity.chooseQoIs" title="bet.sensitivity.chooseQoIs"><code class="xref py py-mod docutils literal"><span class="pre">chooseQoIs</span></code></a> provides methods for choosing optimal</dt>
<dd><p class="first last">QoIs to use in the inverse problem.</p>
</dd>
</dl>
</li>
</ul>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="todo_list.html" class="btn btn-neutral float-right" title="Todo List">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="bet.sampling.html" class="btn btn-neutral" title="bet.sampling package"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, The BET Development Team (Lindley Graham, Steven Mattis, Troy Butler).
      Last updated on Jun 17, 2015.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>